#### Канвэртар беларускай артаграфіі. З сучакадэму ў клясычны правапіс

### Кантэнт

Ё поле ўводу тэксту афіцыйным правапісам і перадвызначаны тэкст у ім. Можам
ужываць спэцыяльныя канструкцыі каб пазьбегнуць канвэртацыі тэксту каторы мы
хочам захаваць як ё. Гэта можа быць карысна для канвэртацыі xml, тэгі ня будуць
канвэртавацца, хіба што самі зьменіце.

Унізе карткі ўводу ё наступныя кнопкі:

- капіяваць
- ачысьціць
- падказка - дае падказкі пра выкарыстоўваньне тарашкевізатара і дату апошняй
  абновы

Картка вываду:

- капіяваць
- паказаць/схаваць налады
- рэдагаваць рэзультат

У наладах можна:

- выбраць альфабэт: кірылічны / лацінскі / арабскі
- наладзіць замену і на й: ніколі / выпадкова / заўсёды
- запампаваць тэкст і спампаваць сканвэртаваны
- перайсьці да майго профілю ў тэлеграме

У шапцы маем 2 кнопкі для зьмены колеравай тэмы сайту.

### Гісторыя

Я натыкнуўся на [тарашкевізатар балтастаў](https://baltoslav.eu/tar/index.php)
але выявілася, што ён ня вельмі добра працуе з шмат якімі словамі. Я вырашыў
зрабіць свой тарашкевізатар, пачаў шукаць крыніцы словаў для пачатку, і знайшоў
[скрыпт на вікіпэдыі](https://be-tarask.wikipedia.org/wiki/MediaWiki:Gadget-nt.js),
ён стаўся базай для слоўніку майго праекту.

Было 3 JavaScript файлы: слоўнік, лёгіку канвэртацыі і лёгіку інтэракцыі з
карыстальнікам. Пазьней, я дадаў яшчэ й сэрвіс воркер для кэшаваньня файлаў.

Гэты праект быў створаны на ванільным js з GULP'ам, таму што я ня змог сабе
парадзіць з Webpack'ам.

![стары дызайн - кампутар](@/old-desktop.jpg)
![стары дызайн - тэлепон](@/old-mobile.jpg)

[Мой сябар](https://github.com/nopears) запрапанаваў зьмяніць дызайн праекту і я
зрабіў гэта, стары дызайн паказаны вышэй.

Ён таксама пазьней зрабіў nest.js API для тарашкевізатара. Я жадаў пазьбегнуць
дубляваньня файлу слоўніку ў тэчцы з API і тэчцы з кліенцкай часткай. Гэта
патрабавала ўжываньня TypeScript і ES-модуляў, таму я вырашыў перапісаць кліент
на TypeScript і разабраўся з канфігурацыяй Webpack'у Я перанёс файлы слоўніку і
лёгікі канвэртацыі ў іншую тэчку і мы маглі выкарыстоўваць іх у абодвух нашых
праектах.

Потым я падумаў, што мог бы зрабіць магчымасьць зборкі фронтэнду каторы
ўзаемадзейнічае з гэтым API. Я дадаў аліас `@api` для імпартаў і калі зборка ў
api-модзе, `@api` імпартуе функцыі запыту да API замест функцый з лёгікай
тарашкевізацыі на кліенцкім боку.

Празь некаторы час, нехта папрасіў мяне ў іш'ю на GitHub перанесьці лёгіку
канвэртацыі да асобнага npm-пакету. І я перанёс яго разам з генэрацыяй json'аў у
іншы рэпазыторый. Для білдынгу я выбраў tsup, гэта просты білдэр, каторы
дазваляе ўжываць esbuild-плагіны. Стварэньне плагіну для генэрацыі json'аў было
лягчэйшае з esbuild, ніж з Webpack. І ўсё,
[пакет](https://www.npmjs.com/package/taraskevizer) ё на npm.

Потым, я зрабіў CI/CD з GitHub Actions. Воркфлоў будуе праект і публікуе яго як
нпм-пакет, пасьля пасьпяховай публікацыі яно трыгерыць воркфлоў у рэпазыторыі
вэб-праграмы тарашкевізатара, каторае робіць білд і публікуе на GitHub Pages.

Я таксама міграваў праграму з Webpack на Vite, білдынг стаў у 3 разы хутчэй і
хот-рэлоады працуюць нармальна. Vite дазваляе выкарыстоўваць плагіны rollup і іх
напісаньне нават лягчэйшае за тыя на esbuild.
